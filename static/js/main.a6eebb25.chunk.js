(this["webpackJsonpsecbo-ts"]=this["webpackJsonpsecbo-ts"]||[]).push([[0],{10:function(e,t,a){"use strict";a.r(t);var n=a(1),i=a(3),r=a.n(i);a(8);const s=e=>`[secbo]${e}[/secbo]`.split("").map((e=>`${e.charCodeAt(0).toString(2)} `)).join(""),l=e=>{const t=(e=>e.split(" ").map((e=>String.fromCharCode(parseInt(e,2)))).join(""))(e.getImageData(0,0,e.canvas.width,e.canvas.height).data.reduce(((e,t,a)=>{if(a>0&&(a+1)%4===0){if(253===t){return`${e} `}if(254===t){return`${e}1`}if(255===t){return`${e}0`}}return e}),""));return t.startsWith("[secbo]")&&t.substring(0,t.length-1).endsWith("[/secbo]")?t.substring(7,t.length-9):null};var o=a(0);var c=({imageInfo:e,pixels:t,freePixels:a})=>Object(o.jsxs)("div",{className:"Details",children:[e.image&&`${t} total pixels, `,Object(o.jsx)("span",{style:{color:a>0?"black":"red"},children:e.image&&`${a} still available`})]});var d=({updateCanvas:e,imageInfo:t,setImageInfo:a,readAlpha:n,textToBinary:i})=>Object(o.jsx)("div",{className:"ImageUploader",onDrop:r=>{r.preventDefault();const s=new FileReader,l=new Image,o=r.dataTransfer.files.item(0);o?("image/png"===o.type?s.readAsDataURL(o):console.log("Invalid format. Use a PNG image."),s.onload=r=>{var s;l.onload=()=>{var r;e(l);const s=null!==(r=n())&&void 0!==r?r:"";a({...t,image:l,name:o.name,text:s,binary:i(s)})};const{result:c}=null!==(s=r.target)&&void 0!==s?s:{};"string"===typeof c&&(l.src=c)}):console.error("Something went wrong with the file upload")},onDragEnter:e=>e.preventDefault(),onDragOver:e=>e.preventDefault(),children:t.image?Object(o.jsx)("img",{className:"ImagePreview",src:t.image.src,alt:"thumbnail"}):Object(o.jsx)("span",{children:"drag an image file here"})});var g=()=>{var e,t;const a=Object(n.useRef)(null),[i,r]=Object(n.useState)({text:"",binary:"",image:null,name:"",dl:""}),[g,u]=Object(n.useState)(0),[h,m]=Object(n.useState)(0);Object(n.useEffect)((()=>{if(null===i||void 0===i?void 0:i.image){const e=i.image.width*i.image.height,t=e-i.binary.length;u(e),m(t)}}),[i.text,i.binary,i.image]);const v=()=>{var e,t;return null!==(e=null===(t=a.current)||void 0===t?void 0:t.getContext("2d"))&&void 0!==e?e:(()=>{throw new Error("Context was null")})()},b=e=>{var t,n;((e,t)=>{const a=e.getImageData(0,0,e.canvas.width,e.canvas.height);a.data.length/4>=t.length?(a.data.forEach(((e,t)=>{t>0&&(t+1)%4===0&&(a.data[t]=255)})),t.split("").forEach(((e,t)=>{"1"===e&&(a.data[4*t+3]=254)," "===e&&(a.data[4*t+3]=253)})),e.putImageData(a,0,0)):alert("The image was too small to contain all this data.")})(v(),s(e.target.value)),r({...i,text:e.target.value,binary:s(e.target.value),dl:null!==(t=null===(n=a.current)||void 0===n?void 0:n.toDataURL("image/png"))&&void 0!==t?t:""})};return Object(o.jsxs)("div",{className:"App",children:[Object(o.jsx)("h2",{children:"secbo-ts"}),Object(o.jsx)("p",{children:"v 1.1.0"}),Object(o.jsx)(d,{updateCanvas:e=>{const t=v();t.canvas.width=e.width,t.canvas.height=e.height,t.drawImage(e,0,0)},imageInfo:i,setImageInfo:r,readAlpha:()=>l(v()),textToBinary:s}),Object(o.jsx)(c,{imageInfo:i,pixels:g,freePixels:h}),Object(o.jsx)("textarea",{rows:15,cols:50,value:i.text,onChange:e=>b(e)}),i.text.length>0&&(null===i||void 0===i||null===(e=i.image)||void 0===e?void 0:e.src)&&h>=0&&Object(o.jsx)("a",{role:"button",href:i.dl,download:i.name,children:"download"}),(null===i||void 0===i||null===(t=i.image)||void 0===t?void 0:t.src)&&Object(o.jsx)("button",{type:"button",onClick:()=>{r({text:"",binary:"\n  1011011 1110011 1100101 1100011 1100010 1101111 1011101\n  1011011 101111 1110011 1100101 1100011 1100010 1101111 1011101\n",image:null,name:"",dl:""})},children:"reset"}),Object(o.jsx)("canvas",{ref:a})]})};var u=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,11)).then((({getCLS:t,getFID:a,getFCP:n,getLCP:i,getTTFB:r})=>{t(e),a(e),n(e),i(e),r(e)}))};r.a.render(Object(o.jsx)(n.StrictMode,{children:Object(o.jsx)(g,{})}),document.getElementById("root")),u()},8:function(e,t,a){}},[[10,1,2]]]);
//# sourceMappingURL=main.a6eebb25.chunk.js.map